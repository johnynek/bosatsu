import Bosatsu.Predef as ___iPredef0
import unittest as ___iunittest1

def assert_eq(___bgot0, ___bexpect0, ___bmessage0):
    ___t0 = []
    ___t1 = (1,
        ___bmessage0,
        (1,
            ": got = ",
            (1, ___bgot0.__str__(), (1, ", expected = ", (1, ___bexpect0.__str__(), (0,))))))
    while ___t1[0] != 0:
        ___t0.append(___t1[1])
        ___t1 = ___t1[2]
    return (0, ___bgot0 == ___bexpect0, "".join(___t0))

diff1 = 36893488147419103231

and_test_cases = (1,
    (1, 1, "3 & 1"),
    (1,
        (0, 0, "0 & 1"),
        (1,
            (1, 1, "1 & 1"),
            (1,
                (0, 0, "2 & 1"),
                (1,
                    (1, 1, "3 & 1"),
                    (1,
                        (0, 0, "4 & 1"),
                        (1,
                            (1, 1, "-3 & 1"),
                            (1,
                                (-6, -6, "-5 & -2"),
                                (1,
                                    (0, 0, "(73786976294838206464) & (36893488147419103232)"),
                                    (1,
                                        (diff1 & diff1, diff1, "diff1"),
                                        (1,
                                            (36893488147419103231,
                                                36893488147419103231,
                                                "(36893488147419103232 - 1) & (36893488147419103232 - 1)"),
                                            (1,
                                                (36893488147419103231,
                                                    36893488147419103231,
                                                    "(36893488147419103231) & (36893488147419103231)"),
                                                (1,
                                                    (-36893488147419103232,
                                                        -36893488147419103232,
                                                        "-36893488147419103232 & -36893488147419103232"),
                                                    (1,
                                                        (0,
                                                            0,
                                                            "-73786976294838206464 & (36893488147419103232 - 1)"),
                                                        (1,
                                                            (3, 3, "3 & -1"),
                                                            (1,
                                                                (0, 0, "-3 & 2"),
                                                                (1,
                                                                    (36893488147419103231,
                                                                        36893488147419103231,
                                                                        "(36893488147419103232 - 1) & -1"),
                                                                    (1,
                                                                        (0,
                                                                            0,
                                                                            "-73786976294838206464 & (36893488147419103232 - 1)"),
                                                                        (0,)))))))))))))))))))

___a0 = 0
def ___t2(___ba0):
    return assert_eq(___ba0[0], ___ba0[1], ___ba0[2])
and_tests = (1,
    "and tests",
    (1, (0, ___a0 == 0, "2 & 1 matches 0"), ___iPredef0.map_List(and_test_cases, ___t2)))

or_test_cases = (1,
    (3, 3, "3 | 1"),
    (1,
        (-3, -3, "-3 | 1"),
        (1,
            (-1, -1, "-5 | -2"),
            (1,
                (110680464442257309696,
                    110680464442257309696,
                    "(73786976294838206464) | (36893488147419103232)"),
                (1,
                    (diff1 | diff1, diff1, "diff1"),
                    (1,
                        (36893488147419103231,
                            36893488147419103231,
                            "(36893488147419103232 - 1) | (36893488147419103232 - 1)"),
                        (1,
                            (36893488147419103231,
                                36893488147419103231,
                                "(36893488147419103231) | (36893488147419103231)"),
                            (1,
                                (-36893488147419103232,
                                    -36893488147419103232,
                                    "-36893488147419103232 | -36893488147419103232"),
                                (1,
                                    (-36893488147419103233,
                                        -36893488147419103233,
                                        "-73786976294838206464 | (36893488147419103232 - 1)"),
                                    (1,
                                        (-1, -1, "3 | -1"),
                                        (1,
                                            (-1, -1, "-3 | 2"),
                                            (1,
                                                (-1, -1, "(36893488147419103232 - 1) | -1"),
                                                (1,
                                                    (-36893488147419103233,
                                                        -36893488147419103233,
                                                        "-73786976294838206464 | (36893488147419103232 - 1)"),
                                                    (0,))))))))))))))

def ___t3(___ba1):
    return assert_eq(___ba1[0], ___ba1[1], ___ba1[2])
or_tests = (1, "or tests", ___iPredef0.map_List(or_test_cases, ___t3))

xor_test_cases = (1,
    (2, 2, "3 ^ 1"),
    (1,
        (-4, -4, "-3 ^ 1"),
        (1,
            (5, 5, "-5 ^ -2"),
            (1,
                (110680464442257309696,
                    110680464442257309696,
                    "(73786976294838206464) ^ (36893488147419103232)"),
                (1,
                    (diff1 ^ diff1, 0, "diff1"),
                    (1,
                        (0, 0, "(36893488147419103232 - 1) ^ (36893488147419103232 - 1)"),
                        (1,
                            (0, 0, "(36893488147419103231) ^ (36893488147419103231)"),
                            (1,
                                (0, 0, "-36893488147419103232 ^ -36893488147419103232"),
                                (1,
                                    (-36893488147419103233,
                                        -36893488147419103233,
                                        "-73786976294838206464 ^ (36893488147419103232 - 1)"),
                                    (1,
                                        (-4, -4, "3 ^ -1"),
                                        (1,
                                            (-1, -1, "-3 ^ 2"),
                                            (1,
                                                (-36893488147419103232,
                                                    -36893488147419103232,
                                                    "(36893488147419103232 - 1) ^ -1"),
                                                (1,
                                                    (-36893488147419103233,
                                                        -36893488147419103233,
                                                        "-73786976294838206464 ^ (36893488147419103232 - 1)"),
                                                    (0,))))))))))))))

def ___t4(___ba2):
    return assert_eq(___ba2[0], ___ba2[1], ___ba2[2])
xor_tests = (1, "xor tests", ___iPredef0.map_List(xor_test_cases, ___t4))

___t5 = []
___t6 = (1, "2_147_483_647 + 1 == 2_147_483_648 but got ", (1, "2147483648", (0,)))
while ___t6[0] != 0:
    ___t5.append(___t6[1])
    ___t6 = ___t6[2]
___t7 = []
___t8 = (1, "-2_147_483_648 - 1 == -2_147_483_649 but got ", (1, "-2147483649", (0,)))
while ___t8[0] != 0:
    ___t7.append(___t8[1])
    ___t8 = ___t8[2]
___t9 = []
___t10 = (1, "-2_147_483_647 - 1 == -2_147_483_648 but got ", (1, "-2147483648", (0,)))
while ___t10[0] != 0:
    ___t9.append(___t10[1])
    ___t10 = ___t10[2]
___t11 = []
___t12 = (1, "-2_147_483_647 - 2 == -2_147_483_649 but got ", (1, "-2147483649", (0,)))
while ___t12[0] != 0:
    ___t11.append(___t12[1])
    ___t12 = ___t12[2]
___t13 = []
___t14 = (1, "-(-2_147_483_648) works: ", (1, "2147483648", (0,)))
while ___t14[0] != 0:
    ___t13.append(___t14[1])
    ___t14 = ___t14[2]
___t15 = []
___t16 = (1, "-(-2_147_483_647) works: ", (1, "2147483647", (0,)))
while ___t16[0] != 0:
    ___t15.append(___t16[1])
    ___t16 = ___t16[2]
___t17 = []
___t18 = (1, "2_147_483_647 * 2 == 4_294_967_294 but got: ", (1, "4294967294", (0,)))
while ___t18[0] != 0:
    ___t17.append(___t18[1])
    ___t18 = ___t18[2]
___t19 = []
___t20 = (1, "(x := 2_147_483_647) * 10 -  x * 9 == x result = ", (1, "2147483647", (0,)))
while ___t20[0] != 0:
    ___t19.append(___t20[1])
    ___t20 = ___t20[2]
add_sub = (1,
    "addition and subtraction",
    (1,
        (0, True, "42 + 58 == 100"),
        (1,
            (0, True, "-42 * 2 == -84"),
            (1,
                (0, True, "0 - 1 == -1"),
                (1,
                    (0, True, "".join(___t5)),
                    (1,
                        (0, True, "2_147_483_647 - 1 == 2_147_483_646"),
                        (1,
                            (0, True, "".join(___t7)),
                            (1,
                                (0, True, "".join(___t9)),
                                (1,
                                    (0, True, "".join(___t11)),
                                    (1,
                                        (0, True, "".join(___t13)),
                                        (1,
                                            (0, True, "".join(___t15)),
                                            (1,
                                                (0, True, "".join(___t17)),
                                                (1,
                                                    (0, True, "".join(___t19)),
                                                    (1,
                                                        (0,
                                                            True,
                                                            "9_223_372_036_854_775_807 + 1 == 9_223_372_036_854_775_808"),
                                                        (1,
                                                            (0,
                                                                True,
                                                                "-9_223_372_036_854_775_808 - 1 == -9_223_372_036_854_775_809"),
                                                            (1,
                                                                (0,
                                                                    True,
                                                                    "9_223_372_036_854_775_807 * 2 == 18_446_744_073_709_551_614"),
                                                                (1,
                                                                    (0,
                                                                        True,
                                                                        "-9_223_372_036_854_775_808 * 2 == -18_446_744_073_709_551_616"),
                                                                    (1,
                                                                        (0,
                                                                            True,
                                                                            "(9_223_372_036_854_775_807 + 1) * 2 == 18_446_744_073_709_551_616"),
                                                                        (1,
                                                                            (0,
                                                                                True,
                                                                                "(9_223_372_036_854_775_807 * 9) - (9_223_372_036_854_775_807 * 8) == 9_223_372_036_854_775_807"),
                                                                            (1,
                                                                                (0,
                                                                                    diff1 == 36893488147419103231,
                                                                                    "diff1 value check"),
                                                                                (0,)))))))))))))))))))))

___a1 = diff1.__str__()
___a2 = (diff1 & diff1).__str__()
string_tests = (1,
    "string tests",
    (1,
        (0, ___a1 == "36893488147419103231", diff1.__str__()),
        (1, (0, ___a2 == "36893488147419103231", diff1.__str__()), (0,))))

___a3 = -23
___t21 = []
___t22 = (1, "(-23 << 1) >> 1 returned ", (1, "-23", (0,)))
while ___t22[0] != 0:
    ___t21.append(___t22[1])
    ___t22 = ___t22[2]
___a4 = -46
___t23 = []
___t24 = (1, "(-23 << 1) returned ", (1, "-46", (0,)))
while ___t24[0] != 0:
    ___t23.append(___t24[1])
    ___t24 = ___t24[2]
___a5 = 23
___t25 = []
___t26 = (1, "(23 << 1) >> 1 returned ", (1, "23", (0,)))
while ___t26[0] != 0:
    ___t25.append(___t26[1])
    ___t26 = ___t26[2]
___a6 = -8034984067920789066
___t27 = []
___t28 = (1, "(-8034984067920789066 << 1) >> 1 returned ", (1, "-8034984067920789066", (0,)))
while ___t28[0] != 0:
    ___t27.append(___t28[1])
    ___t28 = ___t28[2]
___a7 = 16470527259447964275
___t29 = []
___t30 = (1, "(16470527259447964275 << 20) >> 20) got ", (1, "16470527259447964275", (0,)))
while ___t30[0] != 0:
    ___t29.append(___t30[1])
    ___t30 = ___t30[2]
___a8 = 17270599591602908587622400
___t31 = []
___t32 = (1, "(16470527259447964275 << 20) returned ", (1, "17270599591602908587622400", (0,)))
while ___t32[0] != 0:
    ___t31.append(___t32[1])
    ___t32 = ___t32[2]
___a9 = 16470527259447964275
___t33 = []
___t34 = (1, "17270599591602908587622400 >> 20 returned ", (1, "16470527259447964275", (0,)))
while ___t34[0] != 0:
    ___t33.append(___t34[1])
    ___t34 = ___t34[2]
shifts = (1,
    "shift tests",
    (1,
        (0, ___a3 == -23, "".join(___t21)),
        (1,
            (0, ___a4 == -46, "".join(___t23)),
            (1,
                (0, ___a5 == 23, "".join(___t25)),
                (1,
                    (0, ___a6 == -8034984067920789066, "".join(___t27)),
                    (1,
                        (0, ___a7 == 16470527259447964275, "".join(___t29)),
                        (1,
                            (0, ___a8 == 17270599591602908587622400, "".join(___t31)),
                            (1, (0, ___a9 == 16470527259447964275, "".join(___t33)), (0,)))))))))

tests = (1,
    "integer tests",
    (1,
        add_sub,
        (1, string_tests, (1, and_tests, (1, or_tests, (1, xor_tests, (1, shifts, (0,))))))))

class BosatsuTests(___iunittest1.TestCase):
    def test_all(self):
        def test_loop(value):
            if value[0] == 0:
                self.assertTrue(value[1], value[2])
            else:
                ___t35 = value[2]
                while ___t35[0] != 0:
                    test_loop(___t35[1])
                    ___t35 = ___t35[2]
        test_loop(tests)