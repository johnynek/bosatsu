load("@io_bazel_rules_scala//scala:scala.bzl", "scala_binary", "scala_test", "scala_repl")
load("@org_bykn_bosatsu//tools:scala.bzl", "scala_library", "scala_module", "strict_scalacopts")

package(default_visibility = ["//visibility:public"])

common_deps = [
      "//core:par",
      "//base/src/main/scala/org/bykn/bosatsu",
      "//3rdparty/jvm/org/bykn:fastparse_cats_core",
      "//3rdparty/jvm/org/typelevel:alleycats_core",
      "//3rdparty/jvm/org/typelevel:cats_core",
      "//3rdparty/jvm/org/typelevel:cats_kernel",
      "//3rdparty/jvm/org/typelevel:cats_macros",
      "//3rdparty/jvm/org/typelevel:paiges_core",
      "//3rdparty/jvm/com/lihaoyi:fastparse",
      "//3rdparty/jvm/com/lihaoyi:fastparse_utils",
      "//3rdparty/jvm/com/monovore:decline",
      "//3rdparty/jvm/com/stripe:dagon_core",
  ]

scala_library(
    name = "bosatsu",
    srcs = glob(["**/*.scala"], exclude=["Main.scala"]),
    resources = ["//core/src/main/resources/bosatsu:predef.bosatsu"],
    deps = common_deps)
